import{_ as w,i as V,D as y,j as m,o as c,e as p,a as e,t as a,b as u,w as h,g as f,k as r,l as C,v as D,F as k,h as A,f as v,p as S,q as I}from"./app-0b3af78b.js";import{A as L}from"./AppCardHolder-797be531.js";import{V as N}from"./VehicleCard-28ce5e64.js";import{D as T}from"./DriverCard-e746b9a0.js";import R from"./DetailsComponent-88119923.js";import E from"./Trips-4eda30fc.js";import U from"./Mileage-d840db8e.js";import{_ as b}from"./lodash-b37a624c.js";/* empty css                                                                      */const B={computed:{app_defaults(){return V}},components:{Mileage:U,Trips:E,DetailsComponent:R,DriverCard:T,VehicleCard:N,AppCardHolder:L},layout:y,data(){return{active_tab:"Details",vehicle:null,foundVehicles:[],boundVehicle:this.driver.vehicle.length>0?this.driver.vehicle[0]:null}},props:["driver"],methods:{getVehicle:b.throttle(function(){axios.post(route("drivers.get_vehicle"),{reg_no:this.vehicle}).then(s=>{this.foundVehicles=s.data}).catch(s=>{console.log("error: "+s)})},500),clearVehicle:b.throttle(function(s){this.foundVehicles=[]},2e3),bindVehicle(s){this.boundVehicle=s,this.clearVehicle(),this.vehicle=null},assignVehicle(){if(this.boundVehicle==null){alert("No selected Vehicle");return}axios.post(route("drivers.assign_vehicle"),{driver:this.driver.id,vehicle:this.boundVehicle.id}).then(s=>{alert("Assigned")}).catch(s=>{alert("Unable to assign")})},un_assignVehicle(){axios.post(route("drivers.un_assignVehicle"),{driver:this.driver.id,vehicle:this.boundVehicle.id}).then(s=>{alert("Removed"),window.location.reload()}).catch(s=>{alert("Unable to assign")})}}},d=s=>(S("data-v-a83a907d"),s=s(),I(),s),F={class:"p-[10px]"},H={class:"heading my-[10px] md:my-[0px]"},M={class:"flex mb-[20px] py-[10px]"},j={class:"flex gap-3"},q={class:"flex flex-wrap md:gap-[20px]"},K={class:"w-[100%] flex flex-wrap xl:w-[68%]"},P={class:"flex flex-wrap gap-3"},z={class:"w-[100%]"},G=["src"],J={class:"md:flex md:gap-1"},O={class:"w-[50%] input-group-default"},Q=d(()=>e("label",null,"First name",-1)),W={class:"w-[50%] input-group-default"},X=d(()=>e("label",null,"Last name",-1)),Y={class:"md:flex gap-1"},Z={class:"w-[50%] input-group-default"},$=d(()=>e("label",null,"National ID",-1)),ee={class:""},se={class:"w-[50%] input-group-default"},te=d(()=>e("label",null,"Phone",-1)),le={class:""},ie={class:"input-group-default"},oe=d(()=>e("label",null,"Email",-1)),ne={class:""},ae={class:"flex flex-wrap"},re={class:"md:w-[49%]"},de={class:"w-[100%]"},ce={class:"input-group-default"},pe=d(()=>e("label",null,"Vehicle Registration",-1)),ue={class:"w-[100%]"},he={key:0,class:"bg-gray-100"},_e=["onClick"],me={key:0,class:"md:w-[49%]"},ve={class:"w-[100%] xl:w-[28%]"},xe=d(()=>e("ul",{class:"w-[100%]"},[e("li",{class:"flex small-text my-[5px] w-[100%]"},[e("label",{class:"w-[120px] font-semibold text-gray-500"},"Total Trips:"),e("p",null,"23")]),e("li",{class:"flex small-text my-[5px] w-[100%]"},[e("label",{class:"w-[120px] font-semibold text-gray-500"},"Rating:"),e("p",null,"5")]),e("li",{class:"flex small-text my-[5px] w-[100%]"},[e("label",{class:"w-[120px] font-semibold text-gray-500"},"Last Trip Date:"),e("p",null,"5/3/2023")])],-1));function fe(s,t,n,be,i,o){const x=m("Link"),_=m("AppCardHolder"),g=m("VehicleCard");return c(),p("section",F,[e("div",H,[e("h1",null,"Driver : "+a(n.driver.id),1)]),e("div",M,[e("ul",j,[u(x,{as:"button",href:s.route("accounts.EditAccount",[n.driver.id]),class:"px-[10px] button-fill-blue"},{default:h(()=>[f(" Edit ")]),_:1},8,["href"]),u(x,{as:"button",href:"'/'",class:"px-[10px] border-red-400 text-gray-50 bg-red-400"},{default:h(()=>[f("Delete")]),_:1})])]),e("section",q,[e("article",K,[u(_,{title:"About",class:"w-[100%] mb-[20px]"},{default:h(()=>[e("div",P,[e("form",{onSubmit:t[0]||(t[0]=r(()=>{},["prevent"])),class:"p-[10px] w-[100%] md:w-[200px]"},[e("div",z,[e("img",{class:"w-[100%] h-[auto] mb-[10px]",src:o.app_defaults.systemImages+"User.png"},null,8,G)])],32),e("form",{onSubmit:t[1]||(t[1]=r(()=>{},["prevent"])),class:"mb-[20px] w-[100%] md:w-[420px] lg:w-[48%]"},[e("div",J,[e("div",O,[Q,e("p",null,a(n.driver.first_name),1)]),e("div",W,[X,e("p",null,a(n.driver.last_name),1)])]),e("div",Y,[e("div",Z,[$,e("p",ee,a(n.driver.national_id),1)]),e("div",se,[te,e("p",le,a(n.driver.phone),1)])]),e("div",ie,[oe,e("p",ne,a(n.driver.email),1)])],32)])]),_:1}),u(_,{title:"Vehicle",class:"w-[100%] mb-[20px] md:m-[0px]"},{default:h(()=>[e("div",ae,[e("div",re,[e("form",{onSubmit:t[6]||(t[6]=r(()=>{},["prevent"])),class:"p-[10px] w-[100%] md:w-[290px]"},[e("div",de,[e("div",ce,[pe,C(e("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=l=>i.vehicle=l),onKeyup:t[3]||(t[3]=r((...l)=>o.getVehicle&&o.getVehicle(...l),["prevent","stop"]))},null,544),[[D,i.vehicle]]),e("div",ue,[i.foundVehicles.length>0?(c(),p("ul",he,[(c(!0),p(k,null,A(i.foundVehicles,l=>(c(),p("li",{onClick:r(ge=>o.bindVehicle(l),["prevent","stop"])},a(l.Registration_number),9,_e))),256))])):v("",!0)])])]),e("button",{onClick:t[4]||(t[4]=r((...l)=>o.assignVehicle&&o.assignVehicle(...l),["prevent","stop"])),class:"px-[10px] mx-[5px] button-fill-blue"},"Assign"),i.boundVehicle?(c(),p("button",{key:0,onClick:t[5]||(t[5]=r((...l)=>o.un_assignVehicle&&o.un_assignVehicle(...l),["prevent","stop"])),class:"px-[10px] bg-red-400 text-gray-50 border-1 border-red-400"},"Remove")):v("",!0)],32)]),i.boundVehicle?(c(),p("div",me,[u(g,{vehicle:i.boundVehicle,title:i.boundVehicle.name},null,8,["vehicle","title"])])):v("",!0)])]),_:1})]),e("article",ve,[u(_,{title:"Stats",class:"w-[100%] mb-[20px]"},{default:h(()=>[xe]),_:1})])])])}const Le=w(B,[["render",fe],["__scopeId","data-v-a83a907d"]]);export{Le as default};
