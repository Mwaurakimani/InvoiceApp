import{_ as b,j as s,o as r,c,w as p,a as e,t as d,r as D,i as T,D as V,T as N,e as S,b as o,g as A,n as u,k as g,f}from"./app-0b3af78b.js";import{A as h}from"./AppCardHolder-797be531.js";import{V as H}from"./VehicleCard-28ce5e64.js";import{D as B}from"./DriverCard-e746b9a0.js";import L from"./Mileage-2e774b59.js";import F from"./MileageEntry-9699ecd7.js";import U from"./DetailsComponent-88119923.js";/* empty css                                                                      */const j={name:"ClientCard",props:["booking"],components:{AppCardHolder:h}},z={class:"w-[100%] flex mb-[30px]"},P={class:"w-[calc(100%-70px)] flex flex-col px-[10px]"};function R(i,a,t,m,l,n){const _=s("AppCardHolder");return r(),c(_,{title:"Client",class:"mb-[20px] w-[100%]"},{default:p(()=>[e("div",z,[e("ul",P,[e("li",null,"Name : "+d(t.booking.clientName),1),e("li",null,"Phone : "+d(t.booking.clientNumber),1),e("li",null,"Email : "+d(t.booking.clientEmail),1)])]),D(i.$slots,"default")]),_:3})}const W=b(j,[["render",R]]),Y={props:["trips"],computed:{app_defaults(){return T}},components:{ClientCard:W,Mileage:L,DetailsComponent:U,DriverCard:B,VehicleCard:H,AppCardHolder:h,MileageEntry:F},layout:V,data(){return{mileage:N({id:null,current_reading:null,mileage_at:null,date_created:null}),active_tab:"Mileage"}},methods:{saveEntry(){this.mileage.post(route("trips.postMileage",[this.trips.id]),{onSuccess:()=>{this.active_tab="Mileage"}})},updateEntry(){console.log("here"),this.mileage.put(route("trips.putMileage",[this.mileage.id]),{onSuccess:()=>{this.active_tab="Mileage"}})},editMileageEntry(i){this.mileage.id=i.data.id,this.mileage.current_reading=i.data.reading,this.mileage.mileage_at=i.data.mileage_at,this.mileage.date_created=this.dateFormat(i.data.created_at),this.active_tab="MileageEntry"},dateFormat(i){const a=new Date(i);function t(m,l){return m.toString().padStart(l,"0")}return`${a.getFullYear()}-${t(a.getMonth()+1,2)}-${t(a.getDate(),2)}T${t(a.getHours(),2)}:${t(a.getMinutes(),2)}`}},mounted(){this.active_tab="Mileage"}},Z={class:"p-[10px]"},q={class:"heading my-[10px] md:my-[0px]"},G={class:"flex mb-[20px] py-[10px]"},I={class:"flex gap-3"},J={class:"flex flex-wrap md:gap-[20px]"},K={class:"sm:w-[100%] md:w-[300px]"},O=e("ul",{class:""},[e("li",{class:"flex small-text my-[5px]"},[e("label",{class:"w-[120px] font-semibold text-gray-500"},"Total Trips:"),e("p",null,"23")]),e("li",{class:"flex small-text my-[5px]"},[e("label",{class:"w-[120px] font-semibold text-gray-500"},"Rating:"),e("p",null,"5")]),e("li",{class:"flex small-text my-[5px]"},[e("label",{class:"w-[120px] font-semibold text-gray-500"},"Last Trip Date:"),e("p",null,"5/3/2023")])],-1),Q={class:"w-[100%] md:w-[calc(100%-320px)]"},X={class:"flex gap-[5px]"},$={class:"w-[100%]"};function ee(i,a,t,m,l,n){const _=s("Link"),v=s("ClientCard"),y=s("DriverCard"),C=s("VehicleCard"),M=s("DetailsComponent"),E=s("Mileage"),k=s("MileageEntry"),w=s("AppCardHolder");return r(),S("section",Z,[e("div",q,[e("h1",null,"Trip : "+d(t.trips.id),1)]),e("div",G,[e("ul",I,[o(_,{as:"button",method:"delete",href:i.route("trips.deleteTrip",[t.trips.id]),class:"px-[10px] border-red-400 text-gray-50 bg-red-400"},{default:p(()=>[A("Delete")]),_:1},8,["href"])])]),e("section",J,[e("article",K,[o(v,{app_defaults:n.app_defaults,booking:t.trips.booking},null,8,["app_defaults","booking"]),o(y,{driver:t.trips.driver,app_defaults:n.app_defaults},{default:p(()=>[O]),_:1},8,["driver","app_defaults"]),o(C,{vehicle:t.trips.vehicle,app_defaults:n.app_defaults},null,8,["vehicle","app_defaults"])]),e("article",Q,[o(w,{title:"Trip Details",pill:"Active",class:"w-[100%]"},{default:p(()=>[e("ul",X,[e("button",{class:u(["px-[5px]",{"button-fill-blue":l.active_tab==="Details"}]),onClick:a[0]||(a[0]=g(x=>l.active_tab="Details",["prevent","stop"]))},"Details ",2),e("button",{class:u(["px-[5px]",{"button-fill-blue":l.active_tab==="Mileage"}]),onClick:a[1]||(a[1]=g(x=>l.active_tab="Mileage",["prevent","stop"]))},"Mileage ",2),e("button",{class:u(["px-[5px]",{"button-fill-blue":l.active_tab==="MileageEntry"}]),onClick:a[2]||(a[2]=g(x=>l.active_tab="MileageEntry",["prevent","stop"]))},"Update Mileage",2)]),e("div",$,[l.active_tab==="Details"?(r(),c(M,{key:0,class:"w-[100%]",booking:t.trips.booking},null,8,["booking"])):f("",!0),l.active_tab==="Mileage"&&t.trips&&t.trips.mileage?(r(),c(E,{key:1,onEditMileageEntry:n.editMileageEntry,class:"w-[100%]",mileage:t.trips.mileage},null,8,["onEditMileageEntry","mileage"])):f("",!0),l.active_tab==="MileageEntry"?(r(),c(k,{key:2,onSaveEntry:n.saveEntry,onUpdateEntry:n.updateEntry,mileage:l.mileage,class:"w-[100%]"},null,8,["onSaveEntry","onUpdateEntry","mileage"])):f("",!0)])]),_:1})])])])}const ce=b(Y,[["render",ee]]);export{ce as default};
